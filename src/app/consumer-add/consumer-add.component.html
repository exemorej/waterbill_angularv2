<div class="row justify-content-center">
    <div class="col-lg-5">
        <div class="card">
            <div class="card-header text-center text-white" style="background-color: #3C9AD7;" *ngIf="!editMode">ADD
                CONSUMER</div>
            <div class="card-header text-center text-white" style="background-color: #3C9AD7;" *ngIf="editMode">EDIT
                CONSUMER</div>
            <div class="card-body">
                <div *ngIf="this.editMessage; else elseBlock" class="text-danger text-center">
                    {{ editMessage }}
                </div>
                <ng-template #elseBlock>
                    <div class="alert alert-warning alert-dismissible fade show" role="alert" *ngIf="errorData != null">
                        <div *ngIf="errorData.email != null">
                            {{ errorData.email }}
                        </div>
                        <div *ngIf="errorData.meter_num != null">
                            {{ errorData.meter_num }}
                        </div>
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                    <form [formGroup]="consumerForm">
                        <div class="form-group mb-3">
                            <label for="name">Name</label>
                            <input type="text" id="name" class="form-control mb-1" autocomplete="off"
                                formControlName="name">
                            <div *ngIf="consumerForm.invalid && submitted" style="font-size: 12px; color:red">
                                <div *ngIf="f.name.errors?.required">
                                    Name is required!
                                </div>
                                <div *ngIf="f.name.errors?.minlength">
                                    Name should contain more than 3 characters!
                                </div>
                            </div>
                        </div>
                        <div class="form-group mb-3">
                            <label for="address">Address</label>
                            <input type="text" id="address" class="form-control mb-1" autocomplete="off"
                                formControlName="address">
                            <div *ngIf="consumerForm.invalid && submitted" style="font-size: 12px; color:red">
                                <div *ngIf="f.address.errors?.required">
                                    Address is required!
                                </div>
                            </div>
                        </div>
                        <div class="form-group mb-3">
                            <label for="contact_num">Contact Number</label>
                            <input type="text" id="contact_num" class="form-control mb-1" autocomplete="off"
                                formControlName="contact_num">
                            <div *ngIf="consumerForm.invalid && submitted" style="font-size: 12px; color:red">
                                <div *ngIf="f.contact_num.errors?.required">
                                    Contact Number is required!
                                </div>
                                <div *ngIf="f.contact_num.errors?.pattern">
                                    Contact Number should be 11 digits long and numbers only!
                                </div>
                            </div>
                        </div>
                        <div class="form-group mb-3">
                            <label for="email">Email</label>
                            <input type="email" id="email" class="form-control mb-1" autocomplete="off"
                                formControlName="email">
                            <div *ngIf="consumerForm.invalid && submitted" style="font-size: 12px; color:red">
                                <div *ngIf="f.email.errors?.required">
                                    Email is required!
                                </div>
                                <div *ngIf="f.email.errors?.email">
                                    Email should be a valid email!
                                </div>
                            </div>
                        </div>
                        <div class="form-group mb-3">
                            <label for="meter_num">Meter Number</label>
                            <input type="text" id="meter_num" class="form-control mb-1" autocomplete="off"
                                formControlName="meter_num">
                            <div *ngIf="consumerForm.invalid && submitted" style="font-size: 12px; color:red">
                                <div *ngIf="f.meter_num.errors?.required">
                                    Meter Number is required!
                                </div>
                                <div *ngIf="f.meter_num.errors?.pattern">
                                    Meter Number should contain numbers only!
                                </div>
                            </div>
                        </div>
                        <button class="btn btn-primary btn-sm" (click)="onSubmit()"
                            *ngIf="!editMode">Submit</button>&nbsp;
                        <button class="btn btn-primary btn-sm" (click)="onSubmit()" *ngIf="editMode">Save
                            Changes</button>&nbsp;
                        <a routerLink="/consumer-list" class="btn btn-secondary btn-sm"
                            *ngIf="!editMode; else elseBack">Back</a>
                        <ng-template #elseBack>
                            <a routerLink="/consumer/{{ consumerID }}" class="btn btn-secondary btn-sm">Back</a>
                        </ng-template>
                    </form>
                </ng-template>
            </div>
        </div>
    </div>
</div>